---
title: "Create a Working Directory"
teaching: 20
exercises: 20
questions:
- "How to create a working directory?"
- "How to load files in R?"
objectives:
- "Successfully import data into RStudio"
- "Successfully set up a working directory in RStudio"
keypoints:
- "The working directory is very important, as it is the place where you will store, save, and retrieve your files."
- "Using consistent filing naming and folder structure across your projects will help keep things organized."
- "There are different ways to get your data into RStudio." 
- "Download the file for this lesson if you haven't done so already. "
---

# Getting set up
You will need to create and set up your working directory in RStudio for this lesson. The working directory is very important, as it is the place where you will store, save, and retrieve your files. RStudio projects makes it easy to set up your working directory.

If for some reason your working directory is not set up correctly you can change it in the RStudio interface by navigating in the file browser where your working directory should be, and clicking on the blue gear icon "More", and select "Set As Working Directory". Alternatively you can use `setwd("/path/to/working/directory")` to reset your working directory.

> ## Exercise
> Let's create a new project for this lesson.
>
> Under the `File` menu, click on `New project`, choose `New directory`, then `New project`
>
> Enter a name for this new folder (or "directory"), for example `library-carpentry`, and choose a convenient location for it. This will be your **working directory** for the rest of the day (e.g., `~/library-carpentry`)
>
> Click on `Create project`
>
> Create a new file where we will type our scripts. Go to File > New File > Rscript. Click the save icon on your toolbar and save your script as "`script.R`".
{: .checklist}

## Organize your working directory
Using consistent filing naming and folder structure across your projects will help keep things organized. It will also make it easy to find things in the future since systematic reviews typically take months to complete. This can be especially helpful when you are working on multiple reviews or checking in with a review team months after running the initial search. In general, you can create directories or folders for **scripts**, **data**, and **documents**. 

For this lesson, we will create the following folders in your working directory:

* `search_results_data/` Use this folder to store your raw data or the original files you export from a bibliographic database. For the sake of transparency and [provenance](https://en.wikipedia.org/wiki/Provenance), you should *always* keep a copy of your raw data accessible and do as much of your data cleanup and preprocessing programmatically (i.e., with scripts, rather than manually) as possible.

* `search_results_data_output/` When you need to modify your raw data for your analyses, it might be useful to store the modified versions of the datasets generated by your scripts in a different folder.

* `documents/` This would be a place to keep outlines, drafts, and other text.

* `scripts/` This would be the location to keep your R scripts for different analyses or plotting.

You may want additional directories or subdirectories depending on your project needs, but these should form the backbone of your working directory for this lesson.

We can create these folders using the RStudio interface by clicking on the "New Folder" button in the file pane (bottom right), or directly from R by typing in the console. 

~~~
# Use dir.create() to create directories in the current working directory called "search_results_data", "search_results_data_output", "documents", and "scripts".

dir.create("search_results_data")
dir.create("search_results_data_output")
dir.create("documents")
dir.create("scripts")
~~~
{: .language-r}

## Set your working directory
The **working directory** is the location on your computer R will use for reading and writing files. Use `getwd()` to print your current working directory to the console. Use `setwd()` to set your working directory. There are two important points to make here:

* On Windows computers, directories in file paths are separated with a backslash `\`. However, in R, you must use a forward slash `/`. Tip: you can copy and paste from the Windows Explorer (or Mac Finder) window directly into R and use the find/replace (Ctrl/Cmd + F). 
* The directory must be in quotation marks. 

~~~
# Determine which directory your R session is using as its current working directory using getwd().
getwd()

# Assign the value of the current working directory to a variable called "lesson.dir".
lesson.dir <- getwd()

# Set your working directory to "lesson.dir" with the setwd() command.
setwd("lesson.dir")
~~~
{: .language-r}

## Exploring your working directory

You can list all the objects in your local workspace using `ls()`.

~~~
ls()
~~~
{: .language-r}

Assign 8 to x using x <- 8.

~~~
x <- 8
~~~
{: .language-r}

Now, list all the files in your working directory using `list.files()` or `dir()`.

~~~
dir()
~~~
{: .language-r}

As we go through this lesson, you should be examining the help page for each new function. Check out the help page for list.files with the command `?list.files`.

~~~
> ?list.files
~~~
{: .language-r}

One of the most helpful parts of any R help file is the See Also section. Read that section for list.files. 

Using the `args()` function on a function name is also a handy way to see what arguments a function can take.

Use the `args()` function to determine the arguments to list.files().

~~~
args(list.files)
function (path = ".", pattern = NULL, all.files = FALSE, 
    full.names = FALSE, recursive = FALSE, ignore.case = FALSE, 
    include.dirs = FALSE, no.. = FALSE) 
NULL
~~~
{: .language-r}

Create a file in your working directory called "mylesson.R" by using the `file.create()` function.

~~~
file.create("mylesson.R")
~~~
{: .language-r}

Typing in `list.files()` shows that the directory only contains mytest.R.

~~~
list.files()
~~~
{: .language-r}

You can check to see if "mytest.R" exists in the working directory by using the `file.exists()` function.

~~~
file.exists("mytest.R")
~~~
{: .language-r}

You can change the name of the file "mylesson.R" to "myscript.R" by using `file.rename()`.

~~~
file.rename("mylesson.R", "myscript.R")
~~~
{: .language-r}

You can make a copy of "myscript.R" called "myscript2.R" by using `file.copy()`.

~~~
file.copy("myscript.R", "myscript2.R")
~~~
{: .language-r}

> ## Download the data for this lesson
> For this lesson we will be using a small dataset of references from a published systematic review on alcohol advertising and teens.
>
> Download the dataset [`anderson_refs.csv`](data/anderson_refs.csv) 
>
> Save the file to your `Desktop`.
>
{: .callout}

